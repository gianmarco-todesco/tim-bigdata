{"paragraphs":[{"text":"%md\n# Terremoti\nLeggiamo un file CSV con delle informazioni sui terremoti avvenuti in Turchia","user":"anonymous","dateUpdated":"2019-04-06T10:39:23-0700","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"markdown","editOnDblClick":true,"completionKey":"TAB","completionSupport":false},"editorMode":"ace/mode/markdown","editorHide":true,"tableHide":false},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<div class=\"markdown-body\">\n<h1>Terremoti</h1>\n<p>Leggiamo un file CSV con delle informazioni sui terremoti avvenuti in Turchia</p>\n</div>"}]},"apps":[],"jobName":"paragraph_1554570367828_-1063413657","id":"20190406-100607_1047886588","dateCreated":"2019-04-06T10:06:07-0700","dateStarted":"2019-04-06T10:39:23-0700","dateFinished":"2019-04-06T10:39:23-0700","status":"FINISHED","progressUpdateIntervalMs":500,"focus":true,"$$hashKey":"object:322"},{"text":"val df = spark.read\n    .option(\"inferSchema\", true)\n    .option(\"header\", true)\n    .csv(\"hdfs:///user/cloudera/spark/earthquake.csv\")\n    ","user":"anonymous","dateUpdated":"2019-04-06T10:39:41-0700","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"scala","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"editorMode":"ace/mode/scala"},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"df: org.apache.spark.sql.DataFrame = [id: decimal(3,-11), date: string ... 15 more fields]\n"}]},"apps":[],"jobName":"paragraph_1554570257138_-1777150674","id":"20190406-100417_601402186","dateCreated":"2019-04-06T10:04:17-0700","dateStarted":"2019-04-06T10:39:41-0700","dateFinished":"2019-04-06T10:39:42-0700","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:323"},{"text":"%md\nPossiamo vedere subito la struttura del file: quali campi sono registrati e i relativi tipi","user":"anonymous","dateUpdated":"2019-04-06T10:07:41-0700","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"markdown","editOnDblClick":true,"completionKey":"TAB","completionSupport":false},"editorMode":"ace/mode/markdown","editorHide":true,"tableHide":false},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<div class=\"markdown-body\">\n<p>Possiamo vedere subito la struttura del file: quali campi sono registrati e i relativi tipi</p>\n</div>"}]},"apps":[],"jobName":"paragraph_1554570299149_-1289412703","id":"20190406-100459_865691758","dateCreated":"2019-04-06T10:04:59-0700","dateStarted":"2019-04-06T10:07:41-0700","dateFinished":"2019-04-06T10:07:41-0700","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:324"},{"text":"df.printSchema\n","user":"anonymous","dateUpdated":"2019-04-06T10:39:45-0700","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"scala","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"editorMode":"ace/mode/scala"},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"root\n |-- id: decimal(3,-11) (nullable = true)\n |-- date: string (nullable = true)\n |-- time: string (nullable = true)\n |-- lat: double (nullable = true)\n |-- long: double (nullable = true)\n |-- country: string (nullable = true)\n |-- city: string (nullable = true)\n |-- area: string (nullable = true)\n |-- direction: string (nullable = true)\n |-- dist: double (nullable = true)\n |-- depth: double (nullable = true)\n |-- xm: double (nullable = true)\n |-- md: double (nullable = true)\n |-- richter: double (nullable = true)\n |-- mw: double (nullable = true)\n |-- ms: double (nullable = true)\n |-- mb: double (nullable = true)\n\n"}]},"apps":[],"jobName":"paragraph_1554570461837_-766992457","id":"20190406-100741_43595858","dateCreated":"2019-04-06T10:07:41-0700","dateStarted":"2019-04-06T10:39:45-0700","dateFinished":"2019-04-06T10:39:46-0700","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:325"},{"text":"%md\nVediamo in quali città ci sono stati i terremoti più forti","user":"anonymous","dateUpdated":"2019-04-06T10:48:53-0700","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"markdown","editOnDblClick":true,"completionKey":"TAB","completionSupport":false},"editorMode":"ace/mode/markdown","editorHide":true,"tableHide":false},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<div class=\"markdown-body\">\n<p>Vediamo in quali città ci sono stati i terremoti più forti</p>\n</div>"}]},"apps":[],"jobName":"paragraph_1554572905690_114777260","id":"20190406-104825_694393989","dateCreated":"2019-04-06T10:48:25-0700","dateStarted":"2019-04-06T10:48:53-0700","dateFinished":"2019-04-06T10:48:53-0700","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:326"},{"text":"df.select(\"city\",\"richter\").orderBy(desc(\"richter\")).show()","user":"anonymous","dateUpdated":"2019-04-06T10:49:16-0700","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{"0":{"graph":{"mode":"scatterChart","height":300,"optionOpen":true,"setting":{"table":{"tableGridState":{},"tableColumnTypeState":{"names":{"id":"string","date":"string","time":"string","lat":"string","long":"string","country":"string","city":"string","area":"string","direction":"string","dist":"string","depth":"string","xm":"string","md":"string","richter":"string","mw":"string","ms":"string","mb":"string"},"updated":false},"tableOptionSpecHash":"[{\"name\":\"useFilter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable filter for columns\"},{\"name\":\"showPagination\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable pagination for better navigation\"},{\"name\":\"showAggregationFooter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable a footer for displaying aggregated values\"}]","tableOptionValue":{"useFilter":false,"showPagination":false,"showAggregationFooter":false},"updated":false,"initialized":false},"pieChart":{},"multiBarChart":{"rotate":{"degree":"-45"},"xLabelStatus":"default"},"scatterChart":{"xAxis":{"name":"depth","index":10,"aggr":"sum"},"yAxis":{"name":"richter","index":13,"aggr":"sum"}}},"keys":[{"name":"richter","index":13,"aggr":"sum"},{"name":"depth","index":10,"aggr":"sum"}],"groups":[],"values":[]},"helium":{}}},"editorSetting":{"language":"scala","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"editorMode":"ace/mode/scala"},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"+---------+-------+\n|     city|richter|\n+---------+-------+\n| erzincan|    7.2|\n|     null|    7.1|\n|  kutahya|    7.0|\n|     null|    7.0|\n|    bursa|    7.0|\n|     null|    7.0|\n|     null|    6.8|\n|     null|    6.7|\n|      van|    6.7|\n|  cankiri|    6.7|\n|  karabuk|    6.7|\n| tekirdag|    6.7|\n|canakkale|    6.7|\n|    tokat|    6.6|\n|    duzce|    6.6|\n|   manisa|    6.6|\n|     null|    6.6|\n|     null|    6.6|\n|     null|    6.6|\n|     null|    6.6|\n+---------+-------+\nonly showing top 20 rows\n\n"}]},"apps":[],"jobName":"paragraph_1554570470868_909855037","id":"20190406-100750_1527468853","dateCreated":"2019-04-06T10:07:50-0700","dateStarted":"2019-04-06T10:49:16-0700","dateFinished":"2019-04-06T10:49:16-0700","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:327"},{"text":"val df2 = df.filter(\"richter>0\").filter(\"city is not null\")\nz.show(df2.orderBy(\"richter\").limit(30))\n","user":"anonymous","dateUpdated":"2019-04-06T11:08:11-0700","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{"0":{"graph":{"mode":"zeppelin-leaflet","height":300,"optionOpen":false,"setting":{"table":{"tableGridState":{},"tableColumnTypeState":{"names":{"id":"string","date":"string","time":"string","lat":"string","long":"string","country":"string","city":"string","area":"string","direction":"string","dist":"string","depth":"string","xm":"string","md":"string","richter":"string","mw":"string","ms":"string","mb":"string"},"updated":false},"tableOptionSpecHash":"[{\"name\":\"useFilter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable filter for columns\"},{\"name\":\"showPagination\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable pagination for better navigation\"},{\"name\":\"showAggregationFooter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable a footer for displaying aggregated values\"}]","tableOptionValue":{"useFilter":false,"showPagination":false,"showAggregationFooter":false},"updated":false,"initialized":false},"zeppelin-leaflet":{"latitude":{"name":"lat","index":3,"aggr":"sum"},"longitude":{"name":"long","index":4,"aggr":"sum"},"tooltip":{"name":"city","index":6,"aggr":"sum"}},"zeppelin-number":{"chartChanged":true,"parameterChanged":false,"panel":{"columnPanelOpened":true,"parameterPanelOpened":false},"spec":{"charts":{"simple":{"transform":{"method":"raw"},"sharedAxis":false,"axis":{"main title":{"dimension":"single","axisType":"key","name":"main title"},"secondary title":{"dimension":"single","axisType":"aggregator","name":"secondary title"}},"parameter":{"fontColor":{"valueType":"string","defaultValue":"black","description":"font color","name":"fontColor"},"fontSize":{"widget":"option","valueType":"string","defaultValue":"medium","description":"font size","optionValues":["small","medium","large"],"name":"fontSize"},"alignment":{"widget":"option","valueType":"string","defaultValue":"center","description":"alignment","optionValues":["left","right","center"],"name":"alignment"},"iconName":{"valueType":"string","defaultValue":"","description":"font awesome icon name. Ex: users","name":"iconName"},"showTitle":{"widget":"checkbox","valueType":"boolean","defaultValue":true,"description":"show title","name":"showTitle"},"prefix":{"valueType":"string","defaultValue":"","description":"prefix","name":"prefix"},"suffix":{"valueType":"string","defaultValue":"","description":"suffix","name":"suffix"}}}},"initialized":false,"version":{"axis":"{\"simple\":[{\"dimension\":\"single\",\"axisType\":\"key\",\"name\":\"main title\"},{\"dimension\":\"single\",\"axisType\":\"aggregator\",\"name\":\"secondary title\"}]}","parameter":"{\"simple\":[{\"valueType\":\"string\",\"defaultValue\":\"black\",\"description\":\"font color\",\"name\":\"fontColor\"},{\"widget\":\"option\",\"valueType\":\"string\",\"defaultValue\":\"medium\",\"description\":\"font size\",\"optionValues\":[\"small\",\"medium\",\"large\"],\"name\":\"fontSize\"},{\"widget\":\"option\",\"valueType\":\"string\",\"defaultValue\":\"center\",\"description\":\"alignment\",\"optionValues\":[\"left\",\"right\",\"center\"],\"name\":\"alignment\"},{\"valueType\":\"string\",\"defaultValue\":\"\",\"description\":\"font awesome icon name. Ex: users\",\"name\":\"iconName\"},{\"widget\":\"checkbox\",\"valueType\":\"boolean\",\"defaultValue\":true,\"description\":\"show title\",\"name\":\"showTitle\"},{\"valueType\":\"string\",\"defaultValue\":\"\",\"description\":\"prefix\",\"name\":\"prefix\"},{\"valueType\":\"string\",\"defaultValue\":\"\",\"description\":\"suffix\",\"name\":\"suffix\"}]}"}},"chart":{"current":"simple","available":["simple"]},"axis":{"simple":{}},"sharedAxis":{},"axisSpecs":{"simple":[{"dimension":"single","axisType":"key","name":"main title"},{"dimension":"single","axisType":"aggregator","name":"secondary title"}]},"parameter":{"simple":{"fontColor":"black","fontSize":"medium","alignment":"center","iconName":"","showTitle":true,"prefix":"","suffix":""}},"paramSpecs":{"simple":[{"valueType":"string","defaultValue":"black","description":"font color","name":"fontColor"},{"widget":"option","valueType":"string","defaultValue":"medium","description":"font size","optionValues":["small","medium","large"],"name":"fontSize"},{"widget":"option","valueType":"string","defaultValue":"center","description":"alignment","optionValues":["left","right","center"],"name":"alignment"},{"valueType":"string","defaultValue":"","description":"font awesome icon name. Ex: users","name":"iconName"},{"widget":"checkbox","valueType":"boolean","defaultValue":true,"description":"show title","name":"showTitle"},{"valueType":"string","defaultValue":"","description":"prefix","name":"prefix"},{"valueType":"string","defaultValue":"","description":"suffix","name":"suffix"}]}},"volume-leaflet":{"coordinates":{"name":"long","index":4,"aggr":"sum"}}}},"helium":{}}},"editorSetting":{"language":"scala","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"editorMode":"ace/mode/scala"},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TABLE","data":"id\tdate\ttime\tlat\tlong\tcountry\tcity\tarea\tdirection\tdist\tdepth\txm\tmd\trichter\tmw\tms\tmb\n1.98E+13\t1976.09.18\t12:01:41 AM\t41.3\t29.2\tturkey\tistanbul\triva_beykoz\tnorth\t8.5\t0.0\t3.7\t0.0\t3.1\tnull\t0.0\t3.7\n2.01E+13\t2009.11.30\t12:53:36 AM\t38.95\t41.98\tturkey\tmus\toglakkaya_bulanik\teast\t1.0\t5.0\t3.5\t3.5\t3.1\tnull\t0.0\t0.0\n2.02E+13\t2017.04.20\t12:27:13 AM\t37.12\t28.63\tturkey\tmugla\tkavakcali_ula\tnorth_west\t1.5\t5.0\t3.5\t0.0\t3.1\t3.5\t0.0\t0.0\n1.98E+13\t1976.09.24\t12:04:03 AM\t38.4\t27.2\tturkey\tizmir\tbuca\tnorth_east\t2.5\t17.0\t3.5\t0.0\t3.1\tnull\t0.0\t3.5\n1.98E+13\t1976.05.19\t12:53:49 AM\t39.34\t29.0\tturkey\tkutahya\tasagidolaylar_simav\tsouth_west\t1.4\t63.0\t3.6\t0.0\t3.2\tnull\t0.0\t3.6\n1.98E+13\t1976.05.24\t12:47:56 AM\t39.34\t29.0\tturkey\tkutahya\tasagidolaylar_simav\tsouth_west\t1.4\t33.0\t3.8\t0.0\t3.2\tnull\t0.0\t3.8\n2.02E+13\t2016.08.13\t12:47:37 AM\t39.53\t29.12\tturkey\tkutahya\tyatakli_tavsanli\tsouth_west\t1.5\t5.4\t3.8\t0.0\t3.2\t3.8\t0.0\t0.0\n1.98E+13\t1976.05.29\t12:10:55 AM\t39.28\t29.13\tturkey\tkutahya\tkabaklar_emet\teast\t1.9\t10.0\t3.6\t0.0\t3.2\tnull\t0.0\t3.6\n1.98E+13\t1976.05.29\t12:01:02 AM\t39.24\t29.07\tturkey\tkutahya\tkatrandagi_emet\tsouth\t2.9\t5.0\t3.6\t0.0\t3.2\tnull\t0.0\t3.6\n1.98E+13\t1976.11.12\t12:11:30 AM\t38.65\t26.8\tturkey\tizmir\tyenibagarasi_foca\tsouth_west\t4.0\t0.0\t3.7\t0.0\t3.2\tnull\t0.0\t3.7\n1.98E+13\t1976.05.29\t12:08:00 AM\t39.34\t29.11\tturkey\tkutahya\tumutlu_emet\tsouth_west\t5.4\t3.0\t3.7\t0.0\t3.2\tnull\t0.0\t3.7\n2.02E+13\t2017.05.03\t12:09:49 AM\t37.1\t28.66\tturkey\tmugla\tkavakcali_ula\tsouth_east\t1.8\t5.0\t3.6\t0.0\t3.2\t3.6\t0.0\t0.0\n2.02E+13\t2017.07.21\t12:06:39 AM\t36.93\t27.5\tturkey\tmugla\tgokova_korfezi\tnull\tnull\t8.6\t3.6\t0.0\t3.2\t3.6\t0.0\t0.0\n2.00E+13\t2004.09.21\t12:57:39 AM\t37.31\t37.34\tturkey\tgaziantep\tsegmenli_sehitkamil\tsouth_west\t1.0\t6.0\t3.5\t3.5\t3.2\tnull\t0.0\t0.0\n2.01E+13\t2011.09.07\t12:02:48 AM\t37.35\t36.31\tturkey\tosmaniye\tguzelyurt_duzici\tnorth_west\t3.7\t8.1\t3.5\t3.5\t3.2\tnull\t0.0\t0.0\n2.02E+13\t2016.07.11\t12:25:08 AM\t38.36\t27.5\tturkey\tizmir\tasagikizilca_kemalpasa\tsouth_west\t4.4\t8.9\t3.5\t0.0\t3.2\t3.5\t0.0\t0.0\n1.98E+13\t1979.06.14\t12:27:50 AM\t38.72\t26.43\tturkey\tizmir\thasseki_karaburun\tnorth_east\t6.4\t0.0\t3.6\t0.0\t3.2\tnull\t0.0\t3.6\n1.98E+13\t1982.08.01\t12:41:16 AM\t39.35\t25.96\tturkey\tcanakkale\tbademli_aciklari_canakkale\tnull\tnull\t7.0\t3.8\t0.0\t3.2\tnull\t0.0\t3.8\n2.02E+13\t2016.12.15\t12:41:09 AM\t41.93\t31.78\tturkey\tzonguldak\tturkali_aciklari_zonguldak\tnull\tnull\t84.4\t3.5\t0.0\t3.2\t3.5\t0.0\t0.0\n2.02E+13\t2017.07.21\t12:03:17 AM\t36.92\t27.51\tturkey\tmugla\tgokova_korfezi\tnull\tnull\t5.0\t3.6\t0.0\t3.2\t3.6\t0.0\t0.0\n2.02E+13\t2017.07.21\t12:47:37 AM\t36.9\t27.62\tturkey\tmugla\tgokova_korfezi\tnull\tnull\t5.0\t3.5\t0.0\t3.2\t3.5\t0.0\t0.0\n2.02E+13\t2016.10.25\t12:18:56 AM\t39.79\t28.68\tturkey\tbursa\thaciahmet_mustafakemalpasa\tnorth_west\t1.8\t3.8\t3.5\t0.0\t3.2\t3.5\t0.0\t0.0\n1.98E+13\t1977.02.14\t12:29:04 AM\t39.1\t29.0\tturkey\tkutahya\tsimav\tnorth_east\t2.2\t10.0\t3.6\t0.0\t3.2\tnull\t0.0\t3.6\n2.02E+13\t2016.12.13\t12:01:42 AM\t39.83\t28.9\tturkey\tbursa\tdurhasan_buyukorhan\tsouth_east\t1.3\t7.7\t3.5\t0.0\t3.2\t3.5\t0.0\t0.0\n1.98E+13\t1976.04.16\t12:56:43 AM\t39.56\t26.26\tturkey\tcanakkale\ttamis_ayvacik\tnorth_east\t0.9\t16.0\t3.7\t0.0\t3.2\tnull\t0.0\t3.7\n2.02E+13\t2016.08.05\t12:40:15 AM\t37.59\t35.99\tturkey\tadana\tkarahamzali_kozan\tnorth_east\t4.1\t5.0\t3.5\t0.0\t3.3\t3.5\t0.0\t0.0\n1.98E+13\t1976.09.12\t12:12:09 AM\t38.94\t29.5\tturkey\tkutahya\tsaz_gediz\tsouth_west\t4.2\t49.0\t3.7\t0.0\t3.3\tnull\t0.0\t3.7\n2.02E+13\t2017.07.21\t12:15:21 AM\t36.91\t27.63\tturkey\tmugla\tgokova_korfezi\tnull\tnull\t4.3\t3.6\t0.0\t3.3\t3.6\t0.0\t0.0\n1.98E+13\t1976.07.15\t12:25:07 AM\t39.35\t28.94\tturkey\tkutahya\tkurduman_simav\tnorth_west\t1.3\t7.0\t3.5\t0.0\t3.3\tnull\t0.0\t3.5\n1.98E+13\t1976.06.12\t12:02:43 AM\t39.36\t29.2\tturkey\tkutahya\tyagcik_emet\tnorth_west\t1.1\t27.0\t3.6\t0.0\t3.3\tnull\t0.0\t3.6\n"},{"type":"TEXT","data":"df2: org.apache.spark.sql.Dataset[org.apache.spark.sql.Row] = [id: decimal(3,-11), date: string ... 15 more fields]\n"}]},"apps":[],"jobName":"paragraph_1554570993130_1775322353","id":"20190406-101633_976259841","dateCreated":"2019-04-06T10:16:33-0700","dateStarted":"2019-04-06T10:54:18-0700","dateFinished":"2019-04-06T10:54:18-0700","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:328"}],"name":"Spark/Lab2/Earthquake","id":"2E8X69SRB","noteParams":{},"noteForms":{},"angularObjects":{"md:shared_process":[],"spark:shared_process":[]},"config":{"isZeppelinNotebookCronEnable":false,"looknfeel":"default","personalizedMode":"false"},"info":{}}